# Synthetic Image Generation Project

## Table of Contents
- [Setup Instructions](#setup-instructions)
- [Approach](#approach)
- [Challenges & Assumptions](#challenges--assumptions)
- [Images](#images)

## Setup Instructions

### **1. Clone the Repository**
```bash
git clone https://github.com/anurag740/Synthetic-Image-Generation.git
cd Synthetic-Image-Generation
```

### **2. Install Dependencies**
#### **Python Dependencies**
```bash
pip install -r requirements.txt
```
#### **Julia Dependencies**
```julia
using Pkg
Pkg.add(["Flux", "Images", "ImageIO", "FileIO"])
```

### **3. Run Preprocessing (Python)**
```bash
python src/image_preprocessing.py
```
This step resizes and normalizes the images before feeding them into the model.

### **4. Run Model Inference (Julia)**
```julia
julia> include("src/flux_forward_pass.jl")
```

---

## Approach
### **1. Image Generation**
- Initially, we planned to generate images using **Stable Diffusion**.
- However, due to system limitations (low RAM/virtual memory), we **simulated this step** by using pre-generated images from royalty-free sources like **Unsplash** and **Pexels**.

### **2. Preprocessing**
- Resized all images to a fixed dimension.
- Normalized pixel values to [0,1] range.
- Saved the preprocessed images inside the **outputs/** directory.

### **3. Model Inference**
- Attempted to use **Torch.jl**, but encountered library issues (`libtorch_c_api` missing, even after manually installing LibTorch and setting paths).
- Switched to **Flux.jl** to perform a forward pass on preprocessed images without using Torch.jl.
- The Flux model successfully processed images and produced outputs.

---

## Challenges & Assumptions
### **Challenges**
1. **Stable Diffusion Model Issue**
   - Could not run due to **insufficient RAM/virtual memory**.
   - Solution: Used pre-generated images instead.

2. **Torch.jl Precompilation Failure**
   - Error with `libtorch_c_api` while precompiling Torch.jl.
   - Even after manually installing LibTorch and setting environment paths, the issue persisted.
   - Solution: Abandoned Torch.jl and used **Flux.jl** instead.

### **Assumptions**
- The downloaded images are representative of what would be generated by Stable Diffusion.
- Preprocessing steps such as resizing and normalization are sufficient for model inference.

---

## Images
### **1. Downloaded Images**
- Stored in the `images/` directory.
- Sourced from **Unsplash** and **Pexels** due to system constraints preventing Stable Diffusion execution.

### **2. Preprocessed Output Images**
- Saved in the `outputs/` directory.
- These images have undergone resizing and normalization before being passed into the model.

---

## Final Notes
Despite facing system constraints and Torch.jl issues, we successfully ran model inference using **Flux.jl** on preprocessed images. The workflow ensures that images are properly processed and classified while maintaining computational efficiency.

---
